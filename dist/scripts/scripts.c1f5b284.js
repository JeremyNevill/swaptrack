"use strict";angular.module("badgerApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("badgerApp").controller("MainCtrl",["$scope","$firebase",function(a,b){var c=new Firebase("https://badger.firebaseio.com"),d=new FirebaseSimpleLogin(c,function(c,d){c?console.log(c):d&&(console.log("User ID: "+d.uid+", Provider: "+d.provider),a.userId=d.uid,e="https://badger.firebaseio.com/users/"+a.userId,g=new Firebase(e),h=new Firebase(e+"/missings"),i=new Firebase(e+"/swaps"),a.user=b(g),a.userMissings=b(h),a.userSwaps=b(i),a.userDisplayName=d.displayName)});a.userId="";var e="https://badger.firebaseio.com/users/"+a.userId,f="",g=new Firebase(e),h=new Firebase(e+"/missings"),i=new Firebase(e+"/swaps");a.user=[],a.userMissings=[],a.userSwaps=[],a.otherSwaps=[],a.matches=[],a.AnonLogin=function(){d.login("anonymous",{rememberMe:!0})},a.FacebookLogin=function(){d.login("facebook",{rememberMe:!0})},a.Logout=function(){d.logout()},a.addMissing=function(){a.userMissings.$add(a.newMissing),a.newMissing="",a.matchSwaps()},a.deleteMissing=function(b){a.userMissings.$remove(b),a.matchSwaps()},a.clearMissings=function(){a.userMissings=[],a.matchSwaps()},a.getOtherData=function(){f=c+"/users/"+a.otherUserId+"/swaps";var d=new Firebase(f);a.otherSwaps=b(d)},a.matchSwaps=function(){a.matches=[],a.userMissings.$getIndex().forEach(function(b){a.otherSwaps.$getIndex().forEach(function(c){if(a.userMissings[b]===a.otherSwaps[c]){var d=a.otherSwaps[c];a.matches.push(d)}})})},a.addSwap=function(){a.userSwaps.$add(a.newSwap),a.newSwap=""},a.deleteSwap=function(b){a.userSwaps.$remove(b),a.matchSwaps()},a.clearSwaps=function(){a.userSwaps=[]}}]),angular.module("badgerApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);